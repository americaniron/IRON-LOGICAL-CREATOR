<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://esm.sh; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob: https:; media-src 'self' data: blob: https:; connect-src 'self' https://generativelanguage.googleapis.com https://api.openai.com https://api.x.ai https://image.pollinations.ai https://storage.googleapis.com https://picsum.photos; shadow-root 'self';">
    <title>AURA Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react/": "https://esm.sh/react@18.2.0/",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/": "https://esm.sh/react-dom@18.2.0/",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "react/jsx-runtime": "https://esm.sh/react@18.2.0/jsx-runtime",
    "@google/genai": "https://esm.sh/@google/genai@0.2.1"
  }
}
</script>
<script>
  // POLYFILL: Ensure 'process' exists for modules that rely on it
  window.process = window.process || { env: { NODE_ENV: 'development' } };
</script>
<style>
  :root {
    --aura-indigo: #030305;
    --aura-slate: #0A0B10;
    --aura-mauve: #2A1F3D;
    --aura-violet: #F000FF;
    --aura-cyan: #00FFFF;
    --aura-light: #FFFFFF;
    --aura-gray: #94A3B8;
    --font-heading: 'Orbitron', sans-serif;
    --font-body: 'Share Tech Mono', monospace;
  }
  
  body {
    font-family: 'Share Tech Mono', monospace;
    background-color: #030305;
    color: #94A3B8;
    overflow: hidden;
    position: relative;
    margin: 0;
  }

  body::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(circle at 50% 50%, #1a0b2e 0%, #030305 70%);
    opacity: 0.6;
    z-index: -1;
  }

  .hex-grid {
     background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='49' viewBox='0 0 28 49'%3E%3Cg fill-rule='evenodd'%3E%3Cg id='hexagons' fill='%23F000FF' fill-opacity='0.03' fill-rule='nonzero'%3E%3Cpath d='M13.99 9.25l13 7.5v15l-13 7.5L1 31.75v-15l12.99-7.5zM3 17.9v12.7l10.99 6.34 11-6.35V17.9l-11-6.34L3 17.9zM0 15l12.99-7.5L26 15v18.5l-12.99 7.5L0 33.5z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
     background-repeat: repeat;
     position: relative;
  }
  
  #root {
    height: 100vh;
    display: flex;
    flex-direction: column;
  }

  .control-panel {
    background-color: rgba(10, 11, 16, 0.85);
    border: 1px solid rgba(240, 0, 255, 0.2);
    backdrop-filter: blur(12px);
    box-shadow: 0 0 30px rgba(0,0,0,0.8), inset 0 0 20px rgba(240, 0, 255, 0.05);
    border-radius: 4px;
  }

  .monitor-screen {
    background-color: rgba(5, 5, 8, 0.9);
    border: 1px solid rgba(0, 255, 255, 0.2);
    backdrop-filter: blur(8px);
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.05), inset 0 0 30px rgba(0,0,0,0.9);
    border-radius: 4px;
    position: relative;
  }
  
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--aura-violet) var(--aura-indigo);
  }
  
  .animate-in { 
    animation: slide-up-fade 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
  }
  
  @keyframes slide-up-fade {
    0% { opacity: 0; transform: translateY(15px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  #boot-screen {
    transition: opacity 0.5s ease;
  }
</style>
</head>
  <body class="text-gray-300" style="background-color: #030305;">
    <div id="root">
        <div id="boot-screen" style="position: fixed; inset: 0; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #030305; font-family: 'Courier New', monospace; color: #F000FF; text-transform: uppercase; letter-spacing: 0.5em; gap: 20px;">
            <div style="font-size: 2rem; font-weight: 900; text-shadow: 0 0 20px #F000FF;">AURA</div>
            <div id="boot-status" style="font-size: 0.8rem; color: #00FFFF; letter-spacing: 0.2em;">SYSTEM_BOOT_SEQUENCE...</div>
            <div id="error-log" style="font-size: 0.7rem; color: #ef4444; margin-top: 20px; white-space: pre-wrap; max-width: 80%; text-align: center; letter-spacing: normal;"></div>
        </div>
    </div>

    <script>
      window.onerror = function(message, source, lineno, colno, error) {
        console.error("Global Error Caught:", message);
        const errorLog = document.getElementById('error-log');
        const bootStatus = document.getElementById('boot-status');
        if (errorLog) {
          errorLog.textContent = `CRITICAL BOOT FAILURE:\n${message}\nSource: ${source}:${lineno}`;
          if (bootStatus) bootStatus.textContent = "BOOT_HALTED";
        }
      };
      
      // FAILSAFE: Force remove boot screen if React fails to mount within 3 seconds
      setTimeout(() => {
        const bootScreen = document.getElementById('boot-screen');
        if (bootScreen && bootScreen.style.opacity !== '0' && bootScreen.style.display !== 'none') {
            console.warn("BOOT_TIMEOUT: Forcing boot screen removal via failsafe.");
            bootScreen.style.opacity = '0';
            setTimeout(() => {
                if(bootScreen) bootScreen.style.display = 'none';
            }, 500);
        }
      }, 3000);
    </script>
    <script type="module" src="./index.tsx" onerror="window.onerror('Failed to load module ./index.tsx', 'index.html', 0, 0, null)"></script>
  </body>
</html>